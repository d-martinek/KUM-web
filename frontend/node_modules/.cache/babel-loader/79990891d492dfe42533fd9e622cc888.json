{"remainingRequest":"/home/danijel/Documents/Workspace/KUM-web/frontend/node_modules/babel-loader/lib/index.js!/home/danijel/Documents/Workspace/KUM-web/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/danijel/Documents/Workspace/KUM-web/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/danijel/Documents/Workspace/KUM-web/frontend/src/components/dashboard/Tasks.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/danijel/Documents/Workspace/KUM-web/frontend/src/components/dashboard/Tasks.vue","mtime":1557785817842},{"path":"/home/danijel/Documents/Workspace/KUM-web/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1557082350867},{"path":"/home/danijel/Documents/Workspace/KUM-web/frontend/node_modules/babel-loader/lib/index.js","mtime":1557082335768},{"path":"/home/danijel/Documents/Workspace/KUM-web/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1557082350867},{"path":"/home/danijel/Documents/Workspace/KUM-web/frontend/node_modules/vue-loader/lib/index.js","mtime":1557082351628}],"contextDependencies":[],"result":["import _getIterator from \"/home/danijel/Documents/Workspace/KUM-web/frontend/node_modules/@babel/runtime-corejs2/core-js/get-iterator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  data: function data() {\n    return {\n      editPermission: false,\n      tasks: [{\n        id: \"432432\",\n        title: \"Volontiranje\",\n        creatorId: \"2232\",\n        description: \"U petak ESPR organizira dobrotvorni buvljak pa trebamo ljude.\",\n        assigned: {\n          limit: 4,\n          assignedUsers: [\"333\", \"543\", \"432\"]\n        },\n        dateCreated: \"22.05.2019.\"\n      }],\n      users: [{\n        id: \"543\",\n        avatar: \"https://randomuser.me/api/portraits/men/15.jpg\"\n      }, {\n        id: \"333\",\n        avatar: \"https://randomuser.me/api/portraits/men/32.jpg\"\n      }, {\n        id: \"2232\",\n        avatar: \"https://randomuser.me/api/portraits/men/54.jpg\"\n      }, {\n        id: \"432\",\n        avatar: \"https://randomuser.me/api/portraits/men/14.jpg\"\n      }]\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.checkPermission();\n    this.$store.watch(function () {\n      return _this.$store.getters['checkAuth'];\n    }, function () {\n      _this.checkPermission();\n    });\n    this.eventId = this.$route.params.id;\n    axios.get('/api/event/' + this.eventId).then(function (res) {\n      if (res.data.success == true) {\n        _this.event = res.data.event;\n      }\n    });\n  },\n  methods: {\n    returnAvatarByUserId: function returnAvatarByUserId(userId) {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = _getIterator(this.users), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var user = _step.value;\n\n          if (user.id == userId) {\n            return user.avatar;\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    },\n    checkPermission: function checkPermission() {\n      var _this2 = this;\n\n      if (this.$store.state.userAuthenticated) {\n        this.$store.dispatch('permissionAllowed', [0, 1, 2, 3]).then(function (perm) {\n          _this2.editPermission = perm;\n        });\n      }\n    }\n  }\n};",{"version":3,"sources":["Tasks.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,cAAA,EAAA,KADA;AAEA,MAAA,KAAA,EAAA,CACA;AACA,QAAA,EAAA,EAAA,QADA;AAEA,QAAA,KAAA,EAAA,cAFA;AAGA,QAAA,SAAA,EAAA,MAHA;AAIA,QAAA,WAAA,EAAA,+DAJA;AAKA,QAAA,QAAA,EAAA;AACA,UAAA,KAAA,EAAA,CADA;AAEA,UAAA,aAAA,EAAA,CAAA,KAAA,EAAA,KAAA,EAAA,KAAA;AAFA,SALA;AASA,QAAA,WAAA,EAAA;AATA,OADA,CAFA;AAeA,MAAA,KAAA,EAAA,CACA;AACA,QAAA,EAAA,EAAA,KADA;AAEA,QAAA,MAAA,EAAA;AAFA,OADA,EAKA;AACA,QAAA,EAAA,EAAA,KADA;AAEA,QAAA,MAAA,EAAA;AAFA,OALA,EASA;AACA,QAAA,EAAA,EAAA,MADA;AAEA,QAAA,MAAA,EAAA;AAFA,OATA,EAaA;AACA,QAAA,EAAA,EAAA,KADA;AAEA,QAAA,MAAA,EAAA;AAFA,OAbA;AAfA,KAAA;AAkCA,GApCA;AAqCA,EAAA,OArCA,qBAqCA;AAAA;;AACA,SAAA,eAAA;AACA,SAAA,MAAA,CAAA,KAAA,CAAA;AAAA,aAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,WAAA,CAAA;AAAA,KAAA,EAAA,YAAA;AACA,MAAA,KAAA,CAAA,eAAA;AACA,KAFA;AAKA,SAAA,OAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AAEA,IAAA,KAAA,CAAA,GAAA,CAAA,gBAAA,KAAA,OAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,UAAA,GAAA,CAAA,IAAA,CAAA,OAAA,IAAA,IAAA,EAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA;AACA,KALA;AAMA,GApDA;AAqDA,EAAA,OAAA,EAAA;AACA,IAAA,oBAAA,EAAA,8BAAA,MAAA,EAAA;AAAA;AAAA;AAAA;;AAAA;AACA,0CAAA,KAAA,KAAA,4GAAA;AAAA,cAAA,IAAA;;AACA,cAAA,IAAA,CAAA,EAAA,IAAA,MAAA,EAAA;AACA,mBAAA,IAAA,CAAA,MAAA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,KAPA;AASA,IAAA,eAAA,EAAA,2BAAA;AAAA;;AACA,UAAA,KAAA,MAAA,CAAA,KAAA,CAAA,iBAAA,EAAA;AACA,aAAA,MAAA,CAAA,QAAA,CAAA,mBAAA,EAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CACA,UAAA,IAAA,EAAA;AACA,UAAA,MAAA,CAAA,cAAA,GAAA,IAAA;AACA,SAHA;AAKA;AACA;AAjBA;AArDA,CAAA","sourcesContent":["<template>\n\t<div id=\"tasks\">\n        <v-container grid-list-xl>\n            <v-layout row wrap>\n                <v-flex xs12 sm6 lg4 v-for=\"(task, index) in tasks\" :key=\"index\">\n                    <div class=\"task\">\n                       <v-card color=\"blue darken-4\" class=\"white--text\">\n                            <v-card-title primary-title>\n                                <v-layout row wrap>\n                                    <v-flex xs10 sm9 md10 lg9>\n                                        <span style=\"opacity: 0.5;\">{{ task.dateCreated }}</span>\n                                        <br>\n                                        <div class=\"headline\">{{ task.title }}</div></v-flex>\n                                    <v-flex xs2 sm3 md2 lg3>\n                                        <v-avatar size=\"3.5em\">\n                                            <img :src=\"returnAvatarByUserId(task.creatorId)\">\n                                        </v-avatar>\n                                    </v-flex>\n                                    <v-flex sm12>{{ task.description }}</v-flex>\n                                </v-layout>\n                            </v-card-title>\n                            <v-divider light></v-divider>\n                            <v-card-actions>\n                                <v-layout row wrap>\n                                    <v-flex xs2>\n                                        <span>\n                                            <v-btn :disabled=\"task.assigned.assignedUsers.length >= task.assigned.limit\" class=\"hidden-sm-and-down\" flat dark>Prijavi se</v-btn>\n                                            <v-btn :disabled=\"task.assigned.assignedUsers.length >= task.assigned.limit\" class=\"hidden-md-and-up\" depressed icon dark small>\n                                                <v-icon>add</v-icon>\n                                            </v-btn>\n                                        </span>\n                                    </v-flex>\n                                    <v-flex xs10>\n                                        <span class=\"task-chip-text\">{{ task.assigned.assignedUsers.length }} / {{ task.assigned.limit }}</span>\n                                        <span class=\"task-chip-avatars\" v-for=\"(userId, i) in task.assigned.assignedUsers\" :key=\"i\">\n                                            <v-avatar size=\"2em\" :style=\"{right: 15 * (task.assigned.assignedUsers.length - i)  + 'px'}\">\n                                                <img :src=\"returnAvatarByUserId(userId)\">\n                                            </v-avatar>\n                                        </span>\n                                    </v-flex>\n                                </v-layout>\n                            </v-card-actions>\n                        </v-card>\n                    </div>\n                </v-flex>\n            </v-layout>\n        </v-container>\n\t</div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n\tdata() {\n\t\treturn {\n            editPermission: false,\n\t\t\ttasks: [\n                {\n                    id: \"432432\",\n                    title: \"Volontiranje\",\n                    creatorId: \"2232\",\n                    description: \"U petak ESPR organizira dobrotvorni buvljak pa trebamo ljude.\",\n                    assigned: {\n                        limit: 4,\n                        assignedUsers: [\"333\",\"543\", \"432\"]\n                    },\n                    dateCreated: \"22.05.2019.\"\n                }\n            ],\n            users: [\n                {\n                    id: \"543\",\n                    avatar: \"https://randomuser.me/api/portraits/men/15.jpg\"\n                },\n                {\n                    id: \"333\",\n                    avatar: \"https://randomuser.me/api/portraits/men/32.jpg\"\n                },\n                {\n                    id: \"2232\",\n                    avatar: \"https://randomuser.me/api/portraits/men/54.jpg\"\n                },\n                {\n                    id: \"432\",\n                    avatar: \"https://randomuser.me/api/portraits/men/14.jpg\"\n                }\n            ]\n\t\t}\n    },\n\tmounted() {\n        this.checkPermission()\n        this.$store.watch(() => this.$store.getters['checkAuth'], () => {\n            this.checkPermission()\n        })\n\n\n        this.eventId = this.$route.params.id\n\n\t\taxios.get('/api/event/' + this.eventId)\n\t\t.then(res => {\n\t\t\tif(res.data.success == true){\n\t\t\t\tthis.event = res.data.event\n\t\t\t}\n\t\t})\n    },\n    methods: {\n        returnAvatarByUserId: function(userId) {\n            for (let user of this.users) {\n                if(user.id == userId){\n                    return user.avatar\n                }\n            }\n        },\n\n        checkPermission: function() {\n            if(this.$store.state.userAuthenticated){\n                this.$store.dispatch('permissionAllowed', [0, 1, 2, 3]).then(\n                    perm => {\n                        this.editPermission = perm\n                    }\n                )\n            }\n        }\n    },\n};\n</script>\n\n<style>\n#tasks{\n    width: 100%;\n}\n\n.task{\n    padding: 1.5em;\n}\n.task-chip-text{\n    position: absolute;\n    padding: 0.25em 1em 0.25em 2em;\n    background-color: gray;\n    right: 1em;\n    border-radius: 1em;\n}\n\n.task-chip-avatars{\n    right: 1em;\n    position: absolute;\n    padding-right: 3em;\n}\n</style>\n"],"sourceRoot":"src/components/dashboard"}]}