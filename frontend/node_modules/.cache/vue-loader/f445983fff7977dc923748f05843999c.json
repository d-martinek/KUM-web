{"remainingRequest":"/home/danijel/Documents/Workspace/KUM-web/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/danijel/Documents/Workspace/KUM-web/frontend/src/components/dashboard/Tasks.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/danijel/Documents/Workspace/KUM-web/frontend/src/components/dashboard/Tasks.vue","mtime":1557785817842},{"path":"/home/danijel/Documents/Workspace/KUM-web/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1557082350867},{"path":"/home/danijel/Documents/Workspace/KUM-web/frontend/node_modules/babel-loader/lib/index.js","mtime":1557082335768},{"path":"/home/danijel/Documents/Workspace/KUM-web/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1557082350867},{"path":"/home/danijel/Documents/Workspace/KUM-web/frontend/node_modules/vue-loader/lib/index.js","mtime":1557082351628}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios'\n\nexport default {\n\tdata() {\n\t\treturn {\n            editPermission: false,\n\t\t\ttasks: [\n                {\n                    id: \"432432\",\n                    title: \"Volontiranje\",\n                    creatorId: \"2232\",\n                    description: \"U petak ESPR organizira dobrotvorni buvljak pa trebamo ljude.\",\n                    assigned: {\n                        limit: 4,\n                        assignedUsers: [\"333\",\"543\", \"432\"]\n                    },\n                    dateCreated: \"22.05.2019.\"\n                }\n            ],\n            users: [\n                {\n                    id: \"543\",\n                    avatar: \"https://randomuser.me/api/portraits/men/15.jpg\"\n                },\n                {\n                    id: \"333\",\n                    avatar: \"https://randomuser.me/api/portraits/men/32.jpg\"\n                },\n                {\n                    id: \"2232\",\n                    avatar: \"https://randomuser.me/api/portraits/men/54.jpg\"\n                },\n                {\n                    id: \"432\",\n                    avatar: \"https://randomuser.me/api/portraits/men/14.jpg\"\n                }\n            ]\n\t\t}\n    },\n\tmounted() {\n        this.checkPermission()\n        this.$store.watch(() => this.$store.getters['checkAuth'], () => {\n            this.checkPermission()\n        })\n\n\n        this.eventId = this.$route.params.id\n\n\t\taxios.get('/api/event/' + this.eventId)\n\t\t.then(res => {\n\t\t\tif(res.data.success == true){\n\t\t\t\tthis.event = res.data.event\n\t\t\t}\n\t\t})\n    },\n    methods: {\n        returnAvatarByUserId: function(userId) {\n            for (let user of this.users) {\n                if(user.id == userId){\n                    return user.avatar\n                }\n            }\n        },\n\n        checkPermission: function() {\n            if(this.$store.state.userAuthenticated){\n                this.$store.dispatch('permissionAllowed', [0, 1, 2, 3]).then(\n                    perm => {\n                        this.editPermission = perm\n                    }\n                )\n            }\n        }\n    },\n};\n",{"version":3,"sources":["Tasks.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Tasks.vue","sourceRoot":"src/components/dashboard","sourcesContent":["<template>\n\t<div id=\"tasks\">\n        <v-container grid-list-xl>\n            <v-layout row wrap>\n                <v-flex xs12 sm6 lg4 v-for=\"(task, index) in tasks\" :key=\"index\">\n                    <div class=\"task\">\n                       <v-card color=\"blue darken-4\" class=\"white--text\">\n                            <v-card-title primary-title>\n                                <v-layout row wrap>\n                                    <v-flex xs10 sm9 md10 lg9>\n                                        <span style=\"opacity: 0.5;\">{{ task.dateCreated }}</span>\n                                        <br>\n                                        <div class=\"headline\">{{ task.title }}</div></v-flex>\n                                    <v-flex xs2 sm3 md2 lg3>\n                                        <v-avatar size=\"3.5em\">\n                                            <img :src=\"returnAvatarByUserId(task.creatorId)\">\n                                        </v-avatar>\n                                    </v-flex>\n                                    <v-flex sm12>{{ task.description }}</v-flex>\n                                </v-layout>\n                            </v-card-title>\n                            <v-divider light></v-divider>\n                            <v-card-actions>\n                                <v-layout row wrap>\n                                    <v-flex xs2>\n                                        <span>\n                                            <v-btn :disabled=\"task.assigned.assignedUsers.length >= task.assigned.limit\" class=\"hidden-sm-and-down\" flat dark>Prijavi se</v-btn>\n                                            <v-btn :disabled=\"task.assigned.assignedUsers.length >= task.assigned.limit\" class=\"hidden-md-and-up\" depressed icon dark small>\n                                                <v-icon>add</v-icon>\n                                            </v-btn>\n                                        </span>\n                                    </v-flex>\n                                    <v-flex xs10>\n                                        <span class=\"task-chip-text\">{{ task.assigned.assignedUsers.length }} / {{ task.assigned.limit }}</span>\n                                        <span class=\"task-chip-avatars\" v-for=\"(userId, i) in task.assigned.assignedUsers\" :key=\"i\">\n                                            <v-avatar size=\"2em\" :style=\"{right: 15 * (task.assigned.assignedUsers.length - i)  + 'px'}\">\n                                                <img :src=\"returnAvatarByUserId(userId)\">\n                                            </v-avatar>\n                                        </span>\n                                    </v-flex>\n                                </v-layout>\n                            </v-card-actions>\n                        </v-card>\n                    </div>\n                </v-flex>\n            </v-layout>\n        </v-container>\n\t</div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n\tdata() {\n\t\treturn {\n            editPermission: false,\n\t\t\ttasks: [\n                {\n                    id: \"432432\",\n                    title: \"Volontiranje\",\n                    creatorId: \"2232\",\n                    description: \"U petak ESPR organizira dobrotvorni buvljak pa trebamo ljude.\",\n                    assigned: {\n                        limit: 4,\n                        assignedUsers: [\"333\",\"543\", \"432\"]\n                    },\n                    dateCreated: \"22.05.2019.\"\n                }\n            ],\n            users: [\n                {\n                    id: \"543\",\n                    avatar: \"https://randomuser.me/api/portraits/men/15.jpg\"\n                },\n                {\n                    id: \"333\",\n                    avatar: \"https://randomuser.me/api/portraits/men/32.jpg\"\n                },\n                {\n                    id: \"2232\",\n                    avatar: \"https://randomuser.me/api/portraits/men/54.jpg\"\n                },\n                {\n                    id: \"432\",\n                    avatar: \"https://randomuser.me/api/portraits/men/14.jpg\"\n                }\n            ]\n\t\t}\n    },\n\tmounted() {\n        this.checkPermission()\n        this.$store.watch(() => this.$store.getters['checkAuth'], () => {\n            this.checkPermission()\n        })\n\n\n        this.eventId = this.$route.params.id\n\n\t\taxios.get('/api/event/' + this.eventId)\n\t\t.then(res => {\n\t\t\tif(res.data.success == true){\n\t\t\t\tthis.event = res.data.event\n\t\t\t}\n\t\t})\n    },\n    methods: {\n        returnAvatarByUserId: function(userId) {\n            for (let user of this.users) {\n                if(user.id == userId){\n                    return user.avatar\n                }\n            }\n        },\n\n        checkPermission: function() {\n            if(this.$store.state.userAuthenticated){\n                this.$store.dispatch('permissionAllowed', [0, 1, 2, 3]).then(\n                    perm => {\n                        this.editPermission = perm\n                    }\n                )\n            }\n        }\n    },\n};\n</script>\n\n<style>\n#tasks{\n    width: 100%;\n}\n\n.task{\n    padding: 1.5em;\n}\n.task-chip-text{\n    position: absolute;\n    padding: 0.25em 1em 0.25em 2em;\n    background-color: gray;\n    right: 1em;\n    border-radius: 1em;\n}\n\n.task-chip-avatars{\n    right: 1em;\n    position: absolute;\n    padding-right: 3em;\n}\n</style>\n"]}]}